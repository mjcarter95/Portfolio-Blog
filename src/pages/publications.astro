---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { getCollection } from 'astro:content';
const pubs = await getCollection('publications');
const sorted = pubs.sort((a, b) => b.data.year - a.data.year);
---
<BaseLayout title="Publications — Your Name">
  <section class="max-w-4xl mx-auto px-6 py-12">
    <h1 class="text-2xl font-semibold mb-6">Publications</h1>
    <ul class="space-y-6">
      {sorted.map(({ data }) => (
        <li class="leading-relaxed">
          <div class="font-medium">{data.title}</div>
          <div class="text-sm opacity-80">{data.authors.join(', ')}{data.venue ? ` · ${data.venue}` : ''} · {data.year}</div>
          <div class="mt-1 text-sm">
            {data.doi && <a class="underline mr-3" href={`https://doi.org/${data.doi}`}>DOI</a>}
            {data.url && <a class="underline mr-3" href={data.url}>Link</a>}
            {data.pdf && <a class="underline" href={data.pdf}>PDF</a>}
          </div>
        </li>
      ))}
    </ul>
  </section>
</BaseLayout>
