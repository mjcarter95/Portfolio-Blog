---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { getCollection } from 'astro:content';
const posts = (await getCollection('writing')).filter(p => !p.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---
<BaseLayout title="Writing â€” Your Name">
  <section class="max-w-3xl mx-auto px-6 py-12">
    <h1 class="text-2xl font-semibold mb-6">Writing</h1>
    <ul class="space-y-6">
      {posts.map(({ id, slug, data }) => (
        <li>
          <a href={`/writing/${slug}/`} class="text-lg underline">{data.title}</a>
          <div class="text-sm opacity-70">{data.date.toISOString().slice(0,10)}</div>
          {data.summary && <p class="opacity-90 mt-1">{data.summary}</p>}
        </li>
      ))}
    </ul>
  </section>
</BaseLayout>
